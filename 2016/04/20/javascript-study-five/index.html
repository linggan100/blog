<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="生活随笔、前端乱炖、情感沟通、职业交流、旅行笔记">
    <meta name="keyword"  content="undefined">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        征服javascript学习笔记（五）——引用类型Object和Array - 灵感之见
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css" type="text/css">
    <link rel="stylesheet" href="/css/gitment.css" type="text/css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/idea.png" />
        </div>
        <div class="name">
            <i>灵感_idea</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#写在前面"><span class="toc-text">写在前面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object类型"><span class="toc-text">Object类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array类型"><span class="toc-text">Array类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小结"><span class="toc-text">小结</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="site-slogan-mobile">
            <i> 学习让人快乐，而分享加倍 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        征服javascript学习笔记（五）——引用类型Object和Array
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2016-04-20</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#javascript" title="javascript">javascript</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>引用类型，前面的章节提到过，ES的变量类型，分为“基本类型”和“引用类型”。那么这里就开始介绍“引用类型”。</p>
<p>引用类型的值（对象）是引用类型的一个实例，在ES中，引用类型是一种数据结构，用于将数据和功能组织在一起，</p>
<p>如前所述，对象是某个特定引用类型的实例，新对象是使用new操作符后跟一个<strong>构造函数</strong>来创建。构造函数本身就是一个函数，只不过该函数是出于创建新对象的目的而定义的，如下：</p>
<pre><code>var perspon=new Object();
</code></pre><h2 id="Object类型"><a href="#Object类型" class="headerlink" title="Object类型"></a>Object类型</h2><p>我们平时所看到的大多数引用类型值都是Object类型的实例，而且，Object也是ES中使用最多的一个类型。虽然Object的实例不具备多少功能，但对于在应用程序中存储和传输数据而言，它们确实是非常理想的选择。</p>
<p>创建Object实例的方式有两种：</p>
<p><strong>第一种</strong></p>
<p>使用new操作符后跟Object构造函数，如下所示：</p>
<pre><code>var person=new Object();
    person.name=&quot;idea&quot;;
    person.age=27;
</code></pre><p><strong>第二种</strong></p>
<p>使用对象字面量，是对象定义的一种简写形式，目的在于简化创建包含大量属性的对象的过程。比如，上例可以写成下面这样：</p>
<pre><code>var person={
    name:&quot;idea&quot;,
    age:27
}
</code></pre><p>如上所示，对象，属性，属性值，一目了然。但有一点需要提示的是，多个属性之间需要添加逗号，但最后一个属性后面的逗号不是可有可无，如果加了，会在IE7及更早版本和Opera中导致错误。</p>
<p>属性名也可以使用字符串，比如：</p>
<pre><code>var person={
    “name”:&quot;idea&quot;,
    “age”:27
}
</code></pre><p>另外还会出现留空的情况，比如：</p>
<pre><code>var person={}
</code></pre><p>则其只包含默认的属性和方法。</p>
<p>可以看出对象字面量的方法可读性更好，还给人有封装数据的感觉，实际上，如果你有一些实践经验，就会知道，字面量也是向函数传递大量可选参数的首选方式。</p>
<p>一般来说，访问对象属性时使用都是点表示法，不过js中也可以使用方括号表示法来访问对象的属性，在使用这种方法时，应该将要访问的属性以字符串的形式放在方括号中，如下所示：</p>
<pre><code>alert(person[&quot;name&quot;]); // &quot;idea&quot;
</code></pre><p>从功能上看，这两种方法没有任何区别，但方括号方法有个优点，可以通过变量访问属性：</p>
<pre><code>var personName=&quot;name&quot;;
    alert(person[personName]); //&quot;idea&quot;
</code></pre><p>如果属性名中包含会导致语法错误的字符或者使用关键字或保留字，也可以使用方括号表示法，比如：</p>
<pre><code>person[&quot;first name&quot;]=&quot;idea&quot;;
</code></pre><p>因为属性名中包含空格，所以不能使用点表示法访问，然而属性名中是允许包含非字母非数字的，这时候就可以用方括号法访问。</p>
<p>通常，除非必须，建议使用点表示法。</p>
<h2 id="Array类型"><a href="#Array类型" class="headerlink" title="Array类型"></a>Array类型</h2><p>除了Object类型，Array类型是ES中最常用的类型。而且ES中的Array和其他语言当中有很大不同，它的每一项可以保存任何数据类型的数据，而且数组的大小可以动态调整。</p>
<p>创建数组的基本方式有两种。</p>
<p><strong>第一种</strong></p>
<pre><code>var colors=new Array();
</code></pre><p>若知道数组长度，可以这样：</p>
<pre><code>var colors=new Array(20);
</code></pre><p>还可以把数组的项直接写进去，像这样：</p>
<pre><code>var colors=new Array(&quot;green&quot;,&quot;blue&quot;,&quot;yellow&quot;);
</code></pre><p>给构造函数传递值也是可以创建一个数组的，不过分为数值和其他类型之分，比如：</p>
<pre><code>var colors=new Array(3)；   //创建了一个长度为3的数组
    var colors=new Array(&quot;green&quot;); //创建了一个包含一项值为“green”的数组
</code></pre><p>另外，可以省略new操作符，比如：</p>
<pre><code>var colors=Array();
</code></pre><p><strong>第二种</strong></p>
<p>数组字面量，直接看例子：</p>
<pre><code>var numbers=[0,1,2,3,4];
</code></pre><p>会创建一个长度为5的数组。</p>
<p>创建完了，就需要对其进行操作，最基本的就是读取和设置，这时候，需要使用方括号加上数字索引，数组的数字索引从0开始。</p>
<p>比如：</p>
<pre><code>var colors=[&quot;red&quot;,&quot;blue&quot;];
    alert(colors[1]);   //读取
    colors[0]=&quot;green&quot;;  //设置
</code></pre><p>访问的时候，如果索引值对于数组长度，则会返回undefined，读取的时候不能这样读，但是，设置的时候是可以的，比如，以上数组，可以这样</p>
<pre><code>colors[2]=&quot;orange&quot;;
</code></pre><p>这个时候，数组就会创建一项并重新计算长度，当然，不是必须紧邻，还可以</p>
<pre><code>colors[10]=&quot;orange&quot;;
</code></pre><p>那么，它就是一个长度为11的数组了，不过，中间的8个值为undefined。</p>
<p><strong>检测数组</strong></p>
<p>自从ES3做出规定，就出现了确定某个对象是不是数组的经典问题，对于一个全局作用域来书欧，使用instance操作符就能得到满意的结果，如下：</p>
<pre><code>if(value instanceof Array){}
</code></pre><p>但问题在于，它假定只有一个全局执行环境，若有多个，就存在两个以上不同版本的Array构造函数。</p>
<p>ES5新增了Array.isArray()方法，这个方法的目的是最终确定一个值到底是不是数组，而不管它是在哪个全局执行环境中创建的.如下：</p>
<pre><code>if(Array.isArray(value)){}
</code></pre><p>但使用此方法时要注意低版本浏览器的兼容性。</p>
<p><strong>转换方法</strong></p>
<p>toLocaleString(),toString(),valueOf()</p>
<p>第二个会返回以数组中的每一项用逗号分隔开的字符串，实际上是调用了每一项的toString()方法，第三个返回的还是数组，如果是直接alert()一个数组，由于alert()要接收字符串参数，所以它会在后台调用toString()方法，由此得到和toString()方法相同的结果。</p>
<p>而第一种方法经常会和后两种返回相同的值，但也不总是如此，它会对每一项调用toLocaleString()，而不是toString()。 </p>
<p>当然，除了这几种方法，还有一种更加灵活可控的方法，join(),比如这样：</p>
<pre><code>var colors=[&quot;red&quot;,&quot;green&quot;,&quot;blue&quot;];
    alert(colors.join(&quot;.&quot;));
</code></pre><p>就会返回以点号隔开的字符串。</p>
<p><strong>栈方法</strong></p>
<p>栈的概念，学过计算机的应该都不陌生，就算没有学过，也会比较容易懂，因为圣后中太多这样的例子，LIFO(last in first out),通俗说就是后进先出，栈中的项有插入和删除的操作，且只发生在栈的顶部。对此，ES为数组提供了push()和pop()方法，以便实现栈的行为。</p>
<p>push()方法可以接收任意数量的参数，把它们逐个添加到数组末尾，并返回修改后数组的长度，pop()方法则从数组末尾移除最后一项，减少数组的length值，然后返回移除的项。</p>
<p><strong>队列方法</strong></p>
<p>和栈有所不同，队列是FIFO(first in first out),先进先出，在末尾添加项，从列表的前端移除，因为给末尾添加项已经有了方法，所以，现在只需要一个从数组前端取得项的方法——shift()，它能够移除数组中的第一项并返回该项，同时数组长度减1，除此之外，ES还为数组提供了一个unshift()方法，顾名思义，和shift()的用途相反：它能在数组前端添加任意个项并返回新数组的长度。因此，同时使用unshift()和pop()方法，可以从相反方向来模拟队列，即前端添加项，末端移除项。</p>
<p><strong>重排序方法</strong></p>
<p>数组中存在两个可以直接来重排序的方法：reverse()和sort()，前者用于反转，默认情况下，sort()方法按升序排列数组项，即最小的值位于最前面，最大的值排在后面，为了实现排序，sort()方法会调用每个数组项的toString()转型方法，然后比较得到的字符串，以确定如何排序，即使数组中的每一项都是数值，sort()方法比较的也是字符串。</p>
<p>如下：</p>
<pre><code>var values=[0,1,5,10,15];
    values.sort();
    alert(values); //0,1,10,15,5
</code></pre><p>可见，即使值的顺序没有问题，但sort()方法也根据测试字符串的结果改变原来的顺序。这种排序方法在很多情况下都不是最佳方案，因此sort()方法可以接收一个比较函数作为参数，以便我们指定哪个值位于哪个值的前面。</p>
<p><strong>操作方法</strong></p>
<p>ES为操作自己已经包含在数组中的项提供了很多方法。</p>
<p>concat()方法可以基于当前数组中的所有项创建一个新数组。具体来说，这个方法会先创建当前数组一个副本，然后将接收到的参数添加到这个副本的末尾，最后返回新构建的数组，在没有给concat()方法传递参数的情况下，它仅是复制当前数组，如果传递给concat()方法的是一或多个数组，则该方法会将这些数组中的每一项都添加到结果数组中。如果传递的值不是数组，这些值就会被简单添加到结果数组的末尾。下面例子：</p>
<pre><code>var colors=[&quot;red&quot;,&quot;green&quot;,&quot;blue&quot;];
    var colors2=colors.concat(&quot;yellow&quot;,[&quot;black&quot;,&quot;brown&quot;]);
    alert(colors2);   //red,green,blue,yellow,black,brown
</code></pre><p>slice()方法,它能够基于当前数组中的一或多个项创建一个新数组，slice()方法可以接受一或两个参数，即要返回项的起始和结束位置。在只有一个参数的情况下，slice()方法返回从该参数指定位置开始到当前数据末尾的所有项。如果有两个参数，该方法返回起始和结束位置之间的项——但不包括结束位置的项。注意，slice()方法不会影响原始数组。</p>
<pre><code>var colors=[&quot;red&quot;,&quot;green&quot;,&quot;blue&quot;,“yellow”,&quot;purple&quot;];
    var colors2=colors.slice(1,4);
    alert(colors2); //green,blue,yellow
</code></pre><p>其参数可以为负，如果是负值，则用数组长度加上该数来确定相应的位置，如果结束位置小于起始位置，则返回空数组。</p>
<p>splice()方法，此方法是最强大的数组方法，有很多用法，主要用途是向数组中部插入项，但使用这种方法的方式有如下3种：</p>
<p>1、删除，可删除任意数量的项，只需要指定两个参数，要删的第一项的位置和删除的项数。<br>2、插入，向指定位置插入任意数量的项，需提供3个参数：起始位置、要删除的项数和要插入的项，如果要插入多个项，可以再传入第四、第五或更多的项。<br>3、替换，向指定位置插入任意数量的项，且同时删除任意数量的项，只需指定三个参数：起始位置、要删除的项数和要插入的任意数量的项。插入的项数不必与删除的项数相等。</p>
<p>splice()方法始终都会返回一个数组，该数组中包含从原始数组中删除的项(如果没有删除任何一项，则返回一个空数组)。</p>
<p><strong>位置方法</strong></p>
<p>ES5为数组实例添加了两个位置方法：indexOf()和lastIndexOf()，两个方法都接收两个参数：要查找的项表示查找起点位置的索引，其中，indexOf()方法从数组的开头开始向后查找，lastIndexOf()方法则从数组的末尾开始向前查找。如果没有找到，返回-1.</p>
<p><strong>迭代方法</strong></p>
<p>ES5为数组定义了5个迭代方法，每个方法都接收两个参数：要运行的函数和运行该函数的作用域对象。传入这些方法中的函数会接收三个参数：数组项的值，该项在数组中的位置和数组对象本身。作用分别如下：</p>
<p>every()</p>
<p>对数组中每一项运行给定函数，如果每一项都返回true，则返回true。</p>
<p>filter()</p>
<p>如其名，有过滤的作用，对数组每一项执行给定函数，返回结果为true的项组成的数组。</p>
<p>forEach()</p>
<p>对数组每一项运行指定函数，没有返回值。</p>
<p>map()</p>
<p>对每一项运行指定函数，返回每次函数调用结果组成的数组。</p>
<p>some()</p>
<p>每一项运行指定函数，如有任一项返回true，则返回true</p>
<p><strong>归并方法</strong></p>
<p>ES5新增了两个归并数组的方法：reduce()和reduceRight()。这两个方法都会迭代数组的所有项，然后构建一个最终返回的值，其中，reduce()方法从第一项开始，逐个遍历到最后，reduceRight()是从最后一项开始，向前遍历到第一项。这两个方法都接收两个参数：一个在每项上调用的函数和作为归并基础的初始值（可选的）。传给reduce()和reduceRight()的函数接收4个参数：前一个值、当前值，项的索引和数组对象。这个函数返回的任何值都会作为第一个参数自动传给下一项。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>至此，对Object类型和Array类型有了个简要的介绍和概览，可以有个初步的了解。要掌握和灵活运用它们，还需更多实践。后面会继续讨论其他引用类型。一起加油，一起进步吧~</p>

        
            <div class="donate-container">
    <div class="site-slogan">
        <i> 学习让人快乐，而分享加倍 </i>
    </div>
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/wechat-pay.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js" type="text/javascript"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
