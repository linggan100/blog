<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="生活随笔、前端乱炖、情感沟通、职业交流、旅行笔记">
    <meta name="keyword"  content="undefined">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        Flex布局的细节 - 灵感之见
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css" type="text/css">
    <link rel="stylesheet" href="/css/gitment.css" type="text/css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/idea.png" />
        </div>
        <div class="name">
            <i>灵感_idea</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#属性"><span class="toc-text">属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#flex-basis"><span class="toc-text">flex-basis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#flex-grow"><span class="toc-text">flex-grow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#flex-shrink"><span class="toc-text">flex-shrink</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#简写"><span class="toc-text">简写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对齐"><span class="toc-text">对齐</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#justify-content"><span class="toc-text">justify-content</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#align-items"><span class="toc-text">align-items</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实际应用"><span class="toc-text">实际应用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="site-slogan-mobile">
            <i> 学习让人快乐，而分享加倍 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        Flex布局的细节
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2019-10-31</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#CSS" title="CSS">CSS</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <p>近来看到不少关于Grid的文章，即网格布局，其实不只最近，你可能看到两三年前的文章就已经在普及Grid，总有一些人对于新技术充满热情，不管它是否能够立即运用到项目中（浏览器兼容）。</p>
<p>本文依然不讨论Grid，先聊个老朋友，这个老朋友现在几乎成为了面试必考题，而它在几年前也是跟Grid同样的处境，如今成为了网页布局必备，即Flex布局。</p>
<p>大家最熟悉的，它为网页布局带来的最大利处，莫过于各种对齐方式，两端，居中，水平，垂直，都异常轻松。</p>
<p>但其实蛮多人并不熟悉它除此之外的东西，本文就来重点说说它们。</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>熟悉或者很好理解的先略过，介绍几个较少露面的：</p>
<ul>
<li><code>flex-basis</code>——指定flex元素在主轴方向上的初始大小。</li>
<li><code>flex-grow</code>——定义弹性盒子项（flex item）的拉伸因子。</li>
<li><code>flex-shrink</code>——指定flex元素的收缩规则。</li>
</ul>
<p>下面逐一分析：</p>
<h3 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h3><p>为元素指定原始大小，我们知道，当我们为一个容器指定了<code>display：flex;</code>之后，它的默认排列方向是水平，且每个元素都默认没有宽度，就跟我们设置了<code>float</code>或者<code>display：inline；</code>等类似。如下图：</p>
<pre><code>&lt;div class=&quot;flex-box&quot;&gt;
    &lt;div class=&quot;flex-item&quot;&gt;flex-item&lt;/div&gt;
    &lt;div class=&quot;flex-item&quot;&gt;flex-item&lt;/div&gt;
    &lt;div class=&quot;flex-item&quot;&gt;flex-item&lt;/div&gt;
&lt;/div&gt;

.flex-box{
  display:flex;
  background: rgba(0, 0, 255,.8);
  height: 30px;
}
.flex-item{
  background:rgba(255, 255, 0,.8);
}
</code></pre><p><img src="/img/layout_flexbox/flex_basis01.png" alt=""></p>
<p>flex-basis 默认值为0</p>
<p>当然，可以为其设置一个值：</p>
<pre><code>/* 指定&lt;&apos;width&apos;&gt; */
flex-basis: 10rem;
flex-basis: 3px;
flex-basis: auto;
</code></pre><p>ps:这里只列出了浏览器广泛支持的，其他不支持的待实现属性暂不在讨论之列。</p>
<p>这个值比较好理解，跟我们平时设置width、height等价，需要注意的是，如果同时设置了width或者height(主轴是垂直方向时)，flex-basis的优先级更高。</p>
<p>比如我们给上面结构的第一项设置了flex-basis为5rem，就成了下面这样。</p>
<p><img src="/img/layout_flexbox/flex_basis02.png" alt=""></p>
<h3 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h3><p>这个值，是设定一个flex的内容项，它所占空间的比例。</p>
<p>那么，让我们把刚刚的结构的第一项flex-grow设置为1，看看发生了什么。</p>
<pre><code>&lt;div class=&quot;flex-box&quot;&gt;
    &lt;div class=&quot;flex-item item1&quot;&gt;flex-item&lt;/div&gt;
    &lt;div class=&quot;flex-item item2&quot;&gt;flex-item&lt;/div&gt;
    &lt;div class=&quot;flex-item item3&quot;&gt;flex-item&lt;/div&gt;
&lt;/div&gt;

.item1{
  flex-grow: 1;
  background:red;
}
</code></pre><p>为了能看得更清晰，我们给它个不同的颜色。</p>
<p><img src="/img/layout_flexbox/flex_grow01.png" alt=""></p>
<p>神奇的事情，它们仨把整个容器撑满了，而且好像是一半对一半？那么，1是1：1的意思吗？没这么简单，只是个美丽的巧合，我们删掉一项。</p>
<p><img src="/img/layout_flexbox/flex_grow02.png" alt=""></p>
<p>真相似乎已经付出水面，item1占据了除第二项之外的全部空间。</p>
<p>第一个要点：<strong>剩余空间</strong>。</p>
<p>这样就体现了，它为什么是<strong>拉伸</strong>因子，它会按照一定规则拉伸元素本身本该占有的空间，以使占满父容器的空间，这点对后面要说的实际应用很有益处。</p>
<p>我是故意这么做的，接下来，我们加上这行代码，看看会发生什么。</p>
<pre><code>.item2{
  flex-grow: 1;
  background:green;
}
</code></pre><p><img src="/img/layout_flexbox/flex_grow03.png" alt=""></p>
<p>en，是期待的结果，容器依然撑满，且前两项占据同样的空间，那么，是否代表着，flex-grow相等的两项，所占空间就一样？（你应该注意到我对结构动了手脚~）</p>
<p>暂且不管，我们把item2设置为2看看。</p>
<p><img src="/img/layout_flexbox/flex_grow04.png" alt=""></p>
<p>咦，好像不对，按道理，前面两项应该是1：2的宽呀，不科学，哪儿出问题了？</p>
<p>我们做个假设，前面我们将二者都设置为1的时候，它们的内容一样，所以所占空间一样，那么，我们将item2的内容改成item1的两倍呢？</p>
<pre><code>&lt;div class=&quot;flex-box&quot;&gt;
    &lt;div class=&quot;flex-item item1&quot;&gt;flex&lt;/div&gt;
    &lt;div class=&quot;flex-item item2&quot;&gt;flexflex&lt;/div&gt;
    &lt;div class=&quot;flex-item item3&quot;&gt;flex-item&lt;/div&gt;
&lt;/div&gt;
</code></pre><p><img src="/img/layout_flexbox/flex_grow05.png" alt=""></p>
<p><img src="/img/layout_flexbox/flex_grow06.png" alt=""></p>
<p>我们期待的结果出现了！虽然仍没有达到完全精准，但小误差可以理解。</p>
<p>如此，我们可以对“剩余空间”有新的理解了，它并不是将除了item3的空间算作剩余空间，而是将除了item3以及item1和item2的内容之外的空间算作剩余空间。当然，如果我们给item3也设置了拉伸因子，它也会参与进来。</p>
<p>总之，<strong>剩余空间，就是指除了内容之外的空间</strong>。</p>
<p>这样以来，就代表着我们不能用flex-grow来随意规定盒子的大小，因为它本身无法设置特定的大小，只能用来规划剩余空间的分配比例。</p>
<p>那么就没有好的应用场景了么，不是，后面看。</p>
<h3 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a>flex-shrink</h3><p>技术领域的元素从不寂寞，有拉伸，就有收缩，flex-shrink就负责收缩，那什么情况下需要收缩呢？——<strong>内容本身设置的宽度超出了父容器的时候</strong>。</p>
<pre><code>&lt;div id=&quot;content&quot;&gt;
  &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;box1&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;box1&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

#content {
  display: flex;
  width: 500px;
}

#content div {
  height:30px;
  flex-basis: 120px;
}

.box { 
  flex-shrink: 1;
  background:yellow;
}

.box1 { 
  flex-shrink: 2; 
  background:green;
}
</code></pre><p>这段代码可清晰地看出，五个元素所占宽度为600px，而父容器本身只有500px，这符合收缩的条件，即空间超出，所以我们来看效果。</p>
<p><img src="/img/layout_flexbox/flex_shrink01.png" alt=""></p>
<p><img src="/img/layout_flexbox/flex_shrink02.png" alt=""></p>
<p>如我们所愿：</p>
<p>box从120px缩减至105px，15——1<br>box1从120px缩减至90px，30——2</p>
<p>好，刚刚我们花功夫理解了flex-grow，那么flex-shrink就好理解了，不再赘述，继续向前探索。</p>
<h2 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h2><p>这是flex的第二个“难”点，你可能明白了各个属性单独的意思，但一看到简写，又不明白它代表什么了。譬如很常见的flex:1，是什么意思呢？其实这就是个简写。</p>
<p>flex——flex-grow, flex-shrink 与 flex-basis</p>
<p>刚好，前面我们介绍了后面的三个属性，如果说之前你没懂，现在就应该更好懂了，简写规则如下：</p>
<pre><code>/* flex-grow */
flex: 2;

/* flex-basis */
flex: 10rem;
flex: 30px;

/* flex-grow | flex-basis */
flex: 1 30px;

/* flex-grow | flex-shrink */
flex: 2 2;

/* flex-grow | flex-shrink | flex-basis */
flex: 2 2 10%;
</code></pre><p>是不是很好理解，首先要符合值的格式，然后按照数量和先后顺序对应即可。</p>
<p>除此之外，还有一个简写</p>
<p><strong>flex-flow</strong>——flex-direction、flex-wrap。</p>
<p>这两个属性非难点，知道有这么个写法就好，不再赘述。</p>
<h2 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h2><ul>
<li>justify-content - 控制主轴（横轴）上所有 flex 项目的对齐。</li>
<li>align-items - 控制交叉轴（纵轴）上所有 flex 项目的对齐。</li>
</ul>
<p>如果只需要记住这两个，会是很轻松的事情。不幸的是，还有下面这俩。</p>
<ul>
<li>align-self - 控制交叉轴（纵轴）上的单个 flex 项目的对齐。</li>
<li>align-content - 控制“多条主轴”的 flex 项目在交叉轴的对齐。</li>
</ul>
<p>所以，当年刚用flex的时候，每次写代码，都会想一下，横着居中该用哪个，这是竖着居中，用哪个来着？</p>
<h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h3><p>负责主轴方向上的排列，譬如，当direction为row时</p>
<p>flex-start</p>
<p><img src="/img/layout_flexbox/justify_content01.png" alt=""></p>
<p>flex-end</p>
<p><img src="/img/layout_flexbox/justify_content02.png" alt=""></p>
<p>center</p>
<p><img src="/img/layout_flexbox/justify_content03.png" alt=""></p>
<p>这里列了三项，还有三项 space-between、space-around、stretch。</p>
<p>其中stretch值得重视，此值的作用是将当前项拉伸至撑满容器，所以，当direction为row时，justify-content：stretch；是没有作用的，只有direction为column时才会有这样的效果。</p>
<p><img src="/img/layout_flexbox/justify_stretch.png" alt=""></p>
<p>当然，<strong>前提是align-items未设置一些值来破坏它，且元素本身没有设置宽度</strong>。</p>
<p>实际应用中最常用的两个值是：center和space-between。</p>
<h3 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h3><p>负责侧轴方向上的排列</p>
<p>flex-start</p>
<p><img src="/img/layout_flexbox/align_items01.png" alt=""></p>
<p>flex-end</p>
<p><img src="/img/layout_flexbox/align_items02.png" alt=""></p>
<p>center</p>
<p><img src="/img/layout_flexbox/align_items03.png" alt=""></p>
<p>它同样还有另外三个值：space-between、space-around、stretch。</p>
<h2 id="实际应用"><a href="#实际应用" class="headerlink" title="实际应用"></a>实际应用</h2><p>只说理论不谈应用的介绍都是耍流氓~</p>
<p>我们来看几个日常项目中的应用，你肯定都用得上。</p>
<p>一、定宽不定宽搭配</p>
<p>二、不定项等分布局</p>
<p>三、卡片居底</p>
<p>四、单屏自适应布局</p>
<p>可以说，有了flex布局，很多以前需要借助浮动和定位之类才能实现的，现在都不需要了，提供了便利之余，也少了些对正常流布局的破坏。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>写本文的目的，不在于说猜测你可能不知道flex，这个可能性不大，主要是，它的用途不止有各种对齐，还有其他很多东西，如果问你不知道，需要用的时候，用不出来，觉得它做不到，就不算我们掌握了它。</p>

        
            <div class="donate-container">
    <div>
        <img src="/img/pencil.jpg" alt="" class="i-pencil">
    </div>
    <div class="site-slogan">
        <i> 学习让人快乐，而分享加倍 </i>
    </div>
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/wechat-pay.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js" type="text/javascript"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
