<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="生活随笔、前端乱炖、情感沟通、职业交流、旅行笔记">
    <meta name="keyword"  content="undefined">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        【轻聊前端】为什么说一切皆对象？ - 灵感之见
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css" type="text/css">
    <link rel="stylesheet" href="/css/gitment.css" type="text/css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/idea.png" />
        </div>
        <div class="name">
            <i>灵感_idea</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#我们“不是”对象"><span class="toc-text">我们“不是”对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#从“值”到“对象”"><span class="toc-text">从“值”到“对象”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集合引用类型"><span class="toc-text">集合引用类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function"><span class="toc-text">Function</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他内置对象"><span class="toc-text">其他内置对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="site-slogan-mobile">
            <i> 学习让人快乐，而分享加倍 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        【轻聊前端】为什么说一切皆对象？
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2021-03-07</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#分享" title="分享">分享</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <blockquote>
<p>现今各种框架、工具‘横行’，到处在讲原理和源码，更有跨端技术需要我们去探索，但如果基本功不好，学什么都是事倍功半，效果很不好，花费时间的同时打击自信心。此篇文章，为我所计划的【轻聊前端】系列第三篇，旨在系统地、逻辑性地把原生JavaScript知识分享给大家，帮助各位较为轻松地理清知识体系，更好地理解和记忆，我尽力而为，望不负期待。</p>
</blockquote>
<p>前端er们经常看到这么一句话：“JavaScript的一切皆为对象”。</p>
<p>也有说“JavaScript是一门面向对象”的编程语言，还有说“不对，JavaScript不具备正统面向对象的特征，应该说是基于对象。”</p>
<p>谁是谁非？</p>
<h2 id="我们“不是”对象"><a href="#我们“不是”对象" class="headerlink" title="我们“不是”对象"></a>我们“不是”对象</h2><p>上篇文章我们讨论了JavaScript的数据类型，列出了这么几种：</p>
<p>Number、String、Null、Undefined、Boolean、Symbol</p>
<p>称为基本类型，它们有自己的类型，不可再分。它们是对象吗？</p>
<p>回答这个问题，得先看两个小问题：</p>
<ul>
<li>对象长什么样</li>
<li>对象有什么特点</li>
</ul>
<p><strong>长什么样</strong></p>
<p>第一篇文章里聊编程的时候，我们就定义过对象，长这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> people = &#123;</span><br><span class="line">    sex:<span class="string">'男'</span>,</span><br><span class="line">    age:<span class="number">20</span>,</span><br><span class="line">    occupation：<span class="string">'程序员'</span>,</span><br><span class="line">    eat:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="comment">//吃饭</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>有什么</strong></p>
<p>它有什么呢？</p>
<p>属性：性别、年龄、职业</p>
<p>方法/能力：吃饭</p>
<p>由此看，基本类型并不是对象，<strong>既没有对象的外表，也没有对象的特质</strong>。</p>
<h2 id="从“值”到“对象”"><a href="#从“值”到“对象”" class="headerlink" title="从“值”到“对象”"></a>从“值”到“对象”</h2><p>我们说过，基本类型存储的是值本身，但如果不论什么时候，值都只是值，那么这门语言等于废了一半的武功。</p>
<p>所以，<strong>当需要的时候，基本类型的值就会被转化成对应的对象</strong>，又称“包装类型”。简单理解，就是被包装成了对象。</p>
<p>就算不懂编程，看过代码的人应该对几个东西眼熟，比如：toString()、parseInt()/parseFloat()等。</p>
<p>如果你到代码里找它们的定义，发现并找不到，哪儿来的呢？</p>
<p>就来源于“包装类型”。</p>
<p>数字、字符串和布尔值对应的包装类型就是“Number、String、Boolean”。</p>
<p>像这样一段代码</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let <span class="literal">a</span> = <span class="number">1</span><span class="comment">;</span></span><br><span class="line"><span class="literal">a</span>.toString()<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>当运行的时候，会在内部经历三个过程：</p>
<ul>
<li>创建Number类型的实例</li>
<li>调用实例方法toString()</li>
<li>销毁实例</li>
</ul>
<p>创建实例的过程可理解为执行了这么一行代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>使其具备了和对象一样的可访问属性和可调用方法。</p>
<p>值得注意的是第三步也很关键，即销毁实例，虽然在以上代码执行的当时，变量具备了调用方法或者访问属性的能力，但是，在执行完毕之后实例会被立即销毁，恢复它本来“身份”，这就使得你想再给它添加属性或者方法是不会生效的。</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let <span class="literal">a</span> = <span class="number">1</span><span class="comment">;</span></span><br><span class="line"><span class="literal">a</span>.toString()<span class="comment">;</span></span><br><span class="line"><span class="literal">a</span>.name = '<span class="literal">a</span>的名字'<span class="comment">;</span></span><br><span class="line">console.log(<span class="literal">a</span>.name)<span class="comment">; // undefined</span></span><br></pre></td></tr></table></figure>
<p>String 和 Boolean 原理同 Number，不再赘述。</p>
<p>除了以上三者，JavaScript中还有几种基本的引用类型，这里一并介绍：</p>
<p><strong>Date(日期)</strong></p>
<p>Date是有很多使用场景的类型，比如：生日、文章发布时间、活动截止时间等等，都要用到日期。</p>
<p>这个类型不需要开发者自己定义，可以直接使用，可以拿到毫秒数，也可以拿到具体的年份，月份，星期，时/分/秒等，十分灵活，开发者按照需要进行格式的转换和组合就好。</p>
<p><strong>RegExp</strong></p>
<p>正则，一般以正则表达式的形式存在，而正则表达式通常被用来<strong>检索、替换</strong>符合某个<strong>规则</strong>的文本**。</p>
<p>比如我们最常见的，邮箱、电话号码、身份证号，当用户输入一个有格式要求的信息时，在前端交互上就要对数据进行校验，如果格式不符，就提示用户输入正确格式的内容，如果在提交之后再发现不对，体验就很不好了。</p>
<p>示例：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">^[<span class="number">0</span>-<span class="number">9</span>]*$  <span class="comment">//匹配数字  </span></span><br><span class="line">^[\u4e00-\u9fa5]&#123;<span class="number">0</span>,&#125;$  <span class="comment">//匹配汉字</span></span><br></pre></td></tr></table></figure></p>
<p>正则表达式有很多符号的属性和规则，能够发挥的作用十分强大，这里不再赘述，读者可以找专门的资料进一步了解。</p>
<h2 id="集合引用类型"><a href="#集合引用类型" class="headerlink" title="集合引用类型"></a>集合引用类型</h2><p>介绍完基本引用类型，再看集合引用类型。</p>
<p><strong>Array</strong></p>
<p>数组用来存储一系列同类型的数据，当然，通常我们是这么做的，但JavaScript中的常规数组不受类型限制，允许存储任意类型的数据。</p>
<p>为什么说数组是对象呢？它和上面提到的一样，具有包装类型 Array。</p>
<p>当我们对其进行访问时：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">a.length   <span class="comment">// 访问属性  3</span></span><br><span class="line">a.push(<span class="number">4</span>)  <span class="comment">//调用方法  [1,2,3,4]</span></span><br></pre></td></tr></table></figure>
<p>均会调起包装类所具备的属性和方法来为我们服务。</p>
<p><strong>Object</strong></p>
<p>按理说，讲对象应该第一个提到<strong>Object</strong>，为什么现在才提：</p>
<p>一、它就叫对象。</p>
<p>二、它是用来自定义的对象，本身没有固定的属性和方法，开发者定义了才有。</p>
<p>基于以上两点，它是最好理解的对象类型，就放在后面，当然，关于对象，还会有另一篇文章详细介绍。</p>
<p>除了以上二者，JavaScript中新增了几种集合引用类型。</p>
<p><strong>Map</strong></p>
<p>ES6之前，存储键值对都是用Object，Map是一种新的类型，它在多数场景下和 Object 表现出的特性一致，但仍存在差异。</p>
<p>比如:</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> Map();</span><br><span class="line">a.<span class="keyword">set</span>(<span class="string">'name'</span>,<span class="string">'idea'</span>);</span><br><span class="line">a.<span class="keyword">set</span>(<span class="string">'age'</span>,<span class="number">18</span>);   <span class="comment">//使用set添加键值对</span></span><br><span class="line">a.size     <span class="comment">//2 使用size获取键值对数量</span></span><br><span class="line">a.has(<span class="string">'name'</span>)   <span class="comment">//true  使用has查看是否具有某个键</span></span><br><span class="line">a.<span class="keyword">get</span>(<span class="string">'name'</span>)  <span class="comment">//idea 使用get获取某个键的值</span></span><br></pre></td></tr></table></figure>
<p>还有其他方法不再赘述，但Map和Object还有两点明显不同：</p>
<p>一是键的类型不再有限制，可以是任意类型。</p>
<p>二是它会维护插入的键的顺序。</p>
<p>PS：其他差异及如何选择使用，后续文章再详聊。</p>
<p><strong>Set</strong></p>
<p>Set类型也是ES6后新增的，它跟Map很像，大多数方法和API也是共有的。</p>
<p>但它不是专门用来存储键值对，而是存储值，可以存储任何类型的值。</p>
<p>示例：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let <span class="operator">a</span> = <span class="built_in">new</span> Set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]); <span class="comment"> //初始化</span></span><br><span class="line"><span class="operator">a</span>.<span class="built_in">add</span>(<span class="number">4</span>) <span class="comment"> //添加一个值</span></span><br><span class="line">console.<span class="built_in">log</span>(<span class="operator">a</span>); <span class="comment"> //&#123;1,2,3,4&#125;</span></span><br><span class="line"><span class="operator">a</span>.<span class="built_in">add</span>(<span class="number">4</span>) <span class="comment"> //重复添加的值无效</span></span><br></pre></td></tr></table></figure>
<p>Set使用add()方法添加值，Set同样会维护值的插入顺序且不允许值有重复，这一点给开发过程中的一些场景提供了很大便利，比如常见的数组去重，往常我们需要专门写个方法处理，现在只需要将数组使用Set方法处理一次就好。</p>
<p>PS:Set其他内容同上略过。</p>
<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><p>聊完以上几种类型，就是函数了，函数也是对象？虽然我们很少像常规对象那样来用，但它也是对象。</p>
<p>它具备哪些属性和方法呢？</p>
<p>每个函数都至少有两个属性：length和prototype，length表示函数命名参数的个数，prototype则并非函数独有，以上所提及的其他类型的对象也都有，它是保存引用类型所有实例方法的地方，譬如：toString()、valueOf()等。</p>
<p>函数还有三个很有用的方法：call()、apply()、bind()，这三个方法用于将函数调用时的this 指向传给它们的对象。比如：</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var <span class="built_in">color</span> = <span class="string">"red;"</span></span><br><span class="line"><span class="built_in">let</span> o = &#123;</span><br><span class="line">    <span class="built_in">color</span>:<span class="string">"blue"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getColor</span><span class="params">()</span>&#123;</span></span><br><span class="line">    console.<span class="built_in">log</span>(this.<span class="built_in">color</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">let</span> objectColor = getColor.call(o);</span><br><span class="line">objectColor();  <span class="comment">// "blue"</span></span><br></pre></td></tr></table></figure>
<p>如果没有call，输出会是 “red”，现在是 “blue”。</p>
<p>除此之外，函数曾经有过一种重要用途——<strong>构造函数</strong>。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(name, age, job)</span></span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.job = job;</span><br><span class="line">  <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">      alert(<span class="keyword">this</span>.name);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"tom"</span>,<span class="number">18</span>,<span class="string">"teacher"</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"lili"</span>,<span class="number">16</span>,<span class="string">"doctor"</span>);</span><br></pre></td></tr></table></figure>
<p>在ES以前的版本当中，这曾是很流行也很经典的一种定义“类”和创建“实例”的模式。<br>这里的函数和普通函数没什么区别，区别就在于使用了new关键字，从而触发了内部的一些特殊处理，这里点到为止~</p>
<h2 id="其他内置对象"><a href="#其他内置对象" class="headerlink" title="其他内置对象"></a>其他内置对象</h2><p><strong>Math</strong></p>
<p>除了Date对象，Math对象是另一个非常有用的内置对象，有很多实用的方法，比如：</p>
<ul>
<li>求最大、最小值——max()/min()</li>
<li>四舍五入、上下取整——round()/ceil()/floor()</li>
<li>随机数——random()</li>
<li>绝对值——abs()<br>…</li>
</ul>
<p>这些方法为数字处理提供了极大便利。</p>
<p><strong>Window</strong></p>
<p>有些对象在开发时并不会显式调用，有些属性和方法也不属于以上提到的任何一种对象，比如：全局定义的变量和函数，内置方法parseInt()和parseFloat()等。window作为浏览器中全局对象的代理对象就担当了这么一个角色，它们自动归属于window。</p>
<p>同时，很多浏览器API及相关构造函数都以window对象属性的形式暴露出来，以便开发者使用。</p>
<p>常见的有窗口宽高、像素比、滚动、打开窗口等，都是window对象的范畴。</p>
<p>window对象并不孤独，它属于BOM（Browser Object Model）浏览器对象模型这个大的类当中，BOM是很丰富的，这里简单介绍一下其他包含在BOM中的对象：</p>
<p>location对象：可获取所访问的URL的各种信息（协议、域名、端口号等）。</p>
<p>navigator对象：客户端信息（名称、网络、电池、地理位置、语言、多媒体设备等）。</p>
<p>screen对象：屏幕宽高、屏幕朝向等。</p>
<p>history对象：当前窗口用户的导航历史记录。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>行文至此，可以告一段落。</p>
<p>为什么说完变量就说对象？这和很多文章的逻辑都不一样，本文并没有意图说清楚所有对象，只是帮助大家理清这么个关系。</p>
<p>你也看到了，就算是基本类型，它们也有对象的表现，在使用过程中会触发对象的行为（访问属性、调用方法），另外有若干内置对象可供使用，如果没有“它们也是对象”的概念，后面很多东西就是说不通的，难免有困惑。</p>
<p>但这就是“一切”了吗？</p>
<p>JavaScript程序的整体是由ES、BOM、DOM文档对象模型（Document Object Model）组成，上文只提了ES和BOM，DOM同样也是对象，不仅如此，跟DOM紧密相关的“事件”也是，包括我们在业务当中会接触到的File，前后端请求用到的XMLHttpRequest等等，它们都是对象。</p>
<p>那么，回到文章开头，说JavaScript是基于对象的编程语言是相对准确的，它整个运行在由多种对象构成的系统里，建立了这样的认识之后，再去看JavaScript的程序，就清晰很多，因为大多的程序都只是在干一件事儿：</p>
<blockquote>
<p>创建某个对象的实例，访问或者改变属性，调用方法。</p>
</blockquote>
<p>好了，我们下篇文见~</p>

        
            <div class="donate-container">
    <div>
        <img src="/img/pencil.jpg" alt="" class="i-pencil">
    </div>
    <div class="site-slogan">
        <i> 学习让人快乐，而分享加倍 </i>
    </div>
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/wechat-pay.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js" type="text/javascript"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
