<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="生活随笔、前端乱炖、情感沟通、职业交流、旅行笔记">
    <meta name="keyword"  content="undefined">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        【轻聊前端】小角色，大用途——变量 - 灵感之见
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css" type="text/css">
    <link rel="stylesheet" href="/css/gitment.css" type="text/css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/idea.png" />
        </div>
        <div class="name">
            <i>灵感_idea</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#数据类型"><span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量声明"><span class="toc-text">变量声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量命名"><span class="toc-text">变量命名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#附赠"><span class="toc-text">附赠</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="site-slogan-mobile">
            <i> 学习让人快乐，而分享加倍 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        【轻聊前端】小角色，大用途——变量
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2021-02-26</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#分享" title="分享">分享</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <blockquote>
<p>现今各种框架、工具‘横行’，到处在讲原理和源码，更有跨端技术需要我们去探索，但如果基本功不好，学什么都是事倍功半，效果很不好，花费时间的同时打击自信心，所以，踏实学好基础是前提。此篇文章，为我所计划的【轻聊前端】系列第二篇，旨在系统地、逻辑性地把原生JavaScript知识分享给大家，帮助各位较为轻松地理清知识体系，更好地理解和记忆，我尽力而为，望不负期待。</p>
</blockquote>
<p>上篇文提到，不论什么程序语言，都在做三件事：</p>
<p><strong>数据存储、数据处理、数据传输</strong></p>
<p>本文就聊存储。</p>
<p>存储，即为数据找到一个空间来存放，这个空间的载体就是“变量”。</p>
<p>JavaScript发展到现在，数据类型没有大的变化，但声明数据的方式发生过明显变化。</p>
<p>先看数据类型。</p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>JavaScript当中的数据类型有7种（原本是6种，ES6之后新增一种）：</p>
<p>字符串（String）、数字（Number）、布尔（Boolean）、Null、Undefined、符号（Symbol）、对象（Object）</p>
<p>它们又分为<strong>基础类型</strong>和<strong>引用类型</strong>。</p>
<p>基本类型可理解为——<strong>不可再分的，不包含任何其他类型的类型</strong>，存在空间中的就是值本身。</p>
<p>如：String、Number、Boolean、Null、Undefined、Symbol</p>
<p>而引用类型，存的是一个地址，这个地址又可以存放各种不同类型的数据，包括“基本类型”和“引用类型”。</p>
<p>如：Object、Array等。</p>
<p>用一个简单的例子来看它们的区别。</p>
<p>基本类型<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a = <span class="number">3</span>；</span><br><span class="line">var b;</span><br><span class="line">b = a;</span><br><span class="line">a = <span class="number">4</span>;</span><br><span class="line">console.<span class="built_in">log</span>(a);  <span class="comment">//4</span></span><br><span class="line">console.<span class="built_in">log</span>(b);  <span class="comment">//3</span></span><br></pre></td></tr></table></figure></p>
<p>引用类型<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c = &#123;</span><br><span class="line">    name:'张三'</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> <span class="keyword">d</span>;</span><br><span class="line"><span class="keyword">d</span> = c;</span><br><span class="line">console.<span class="literal">log</span>(<span class="keyword">d</span>.name);  <span class="comment">//张三</span></span><br><span class="line">c.name = '李四';</span><br><span class="line">console.<span class="literal">log</span>(<span class="keyword">d</span>.name);  <span class="comment">//李四</span></span><br></pre></td></tr></table></figure></p>
<p>可以看出，基本类型在传递时，相当于把值拷贝了一份，二者相互不影响，而引用类型的赋值行为仅仅传递了地址，它们指向的仍是同一个空间，所以一个变另一个也会变。</p>
<p>注意措辞：“赋值行为”。并非不能够做到相互不影响，只是单纯地“赋值”做不到。</p>
<p>这就引出了前端圈经常讨论的话题——<strong>深拷贝</strong>和<strong>浅拷贝</strong>，先提一下，不细说，领会引用类型是什么即可。</p>
<p>关于基本数据类型，看似不打眼，但几乎每份前端笔试题里都会有它，也正因为平时不太在意，写错、写漏、多写的情况经常发生，应该怎么记呢？</p>
<ul>
<li><p>String和Number很好记，只有数字能够进行数学运算，而字符串通常用来表示文本信息。</p>
</li>
<li><p>Boolean，用于条件判断，true（真）/false（假）。</p>
</li>
<li><p>Null，只有值null；</p>
</li>
<li><p>Undefined，只有值undefined；</p>
</li>
</ul>
<p>前面三种较好理解，只需注意后两种。</p>
<p>从逻辑上说，null是空对象指针，访问不存在的对象时会是null，也常用null来初始化一个尚未赋值的对象；</p>
<p>Undefined是为了区分null和未赋值变量而添加的，“未赋值变量”包括基本类型变量、数组中没有值的索引位及未定义值的对象属性等。</p>
<p>如此以来，前五种基本类型就记住了，再加上ES6新增的Symbol，就是完整的基本类型。</p>
<p>至于同样很常见的Object、Array、Function之类，都不是，为什么，它们符合“不可再分，不包含任何其他类型”吗？显然不~</p>
<h2 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h2><p>ES6之前，声明一个变量只能用 var 关键词，ES6之后多了 let 和 const。</p>
<p>后两者和前者的区别就是，后两者使得JavaScript当中具备了<strong>块级作用域</strong>。</p>
<p>提到“块级作用域”，就先讲一下什么是“<strong>作用域</strong>”。</p>
<p>顾名思义，作用域就是能够起作用的区域，起什么作用？——<strong>可获取，可操作</strong>。</p>
<p>作用域跟什么有关呢？跟在哪里声明有关，即<strong>声明位置决定作用域</strong>。</p>
<p>而且作用域遵循“由内向外”的查询规则，先就近在小的范围查询，查不到再往外，直到全局作用域。</p>
<p>ES6之前，JavaScript当中最为大家熟知的就是“全局作用域”和“函数作用域”。</p>
<p><strong>var</strong></p>
<p>比如:</p>
<ul>
<li>在代码的最外层定义一个变量a</li>
</ul>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br></pre></td></tr></table></figure>
<p>它就属于全局，其他任何代码都可以对其进行访问或者修改。</p>
<ul>
<li>在函数当中定义一个变量a</li>
</ul>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span><span class="comment">&#123;</span><br><span class="line">  var a = 10;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="title">test</span><span class="params">()</span>;</span></span><br><span class="line">console.log(a)  <span class="comment">//Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure>
<p>会得到a并没有定义的报错。</p>
<p>但也存在另一种“疏忽”的情况，就是未使用 var 关键字</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span><span class="comment">&#123;</span><br><span class="line">  a = 10;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="title">test</span><span class="params">()</span>;</span></span><br><span class="line">console.log(a)  <span class="comment">//10</span></span><br></pre></td></tr></table></figure>
<p>这时a会暴露到全局，又可以被访问，这类疏忽最好不要犯。</p>
<p>只有“函数”才有自己的作用域吗？严格说不是，但因为那些语句少有使用场景且背离最佳实践，所以暂不了解也没有影响。</p>
<p><strong>let</strong>和<strong>const</strong></p>
<p>ES6之前没有真正被广泛定义的“块级作用域”。</p>
<p>“块”是指“代码块”，被大括号包裹起来的一段代码可以看做一个代码块。如if、while、function等。</p>
<p>JavaScript当中的变量除了被定义在全局，就是被包裹在各种代码块中，但并不代表它们被限制在了代码块中。</p>
<p>let、const，和var最明显的三点不同。</p>
<ul>
<li>将变量限制在了代码块</li>
<li>不可重复定义</li>
<li>不会被提升</li>
</ul>
<p>一个个看.</p>
<p><strong>块作用域</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    let a = <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">const</span> b = <span class="number">6</span>;</span><br><span class="line">&#125;</span><br><span class="line">console.<span class="built_in">log</span>(a,b)  <span class="comment">//undefined undefined</span></span><br></pre></td></tr></table></figure>
<p>我们在if条件判断的代码里定义了两个变量a,b，外部访问均为undefined，这说明，在if代码块的外部无法正常访问代码块内定义的变量。</p>
<p><strong>重复定义</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">6</span>;</span><br><span class="line">&#125;</span><br><span class="line">Uncaught <span class="built_in">SyntaxError</span>: Identifier <span class="string">'a'</span> has already been declared</span><br></pre></td></tr></table></figure>
<p>变量a已经被let声明，就不能再次被声明。</p>
<p><strong>不被提升</strong></p>
<p>前面没有说提升，放在这里刚好做比较。</p>
<p>使用 var 声明的变量，在其作用域内会被提升到最顶部，以便被其他代码使用。</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span><span class="comment">&#123;</span><br><span class="line">  console.log(a)  //undefined</span><br><span class="line">  var a = 10;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="title">test</span><span class="params">()</span>;</span></span><br></pre></td></tr></table></figure>
<p>咦，这不是 undefined 么，也不是 10 啊，提升到哪了？</p>
<p>“坑”就在此。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;  <span class="comment">//这叫'声明'</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>; <span class="comment">//这是在声明的同时定义初始值</span></span><br></pre></td></tr></table></figure>
<p>所以，提升<strong>只是声明被提升，而赋值未提升</strong>，才会看到上面输出的是undefined。</p>
<p>当然，变量提升不止如此，函数（function）同样，可以在声明函数的前面使用，到函数部分再详聊。</p>
<p>上面说了最明显也是最重要的三个区别，还有一个区别，即在全局定义变量时，使用 var ，变量属于全局对象 window，而使用 let 和 const 不会这样。</p>
<p>再来看 let 和 const </p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span><span class="comment">&#123;</span><br><span class="line">    console.log(a,b);</span><br><span class="line">    let a = 10;</span><br><span class="line">    const b = 10;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="title">test</span><span class="params">()</span>;</span>  <span class="comment">//Uncaught ReferenceError: Cannot access 'a' before initialization</span></span><br></pre></td></tr></table></figure>
<p>这段代码甚至没走到声明变量的地方就报错了，在初始化之前不能访问变量a，就证明 let 和 const 的声明不会被提升。</p>
<p>值得说明的是，虽然ES6之前的 var 存在提升的现象，但比较提倡的做法仍是在所属代码块的顶部将所有变量一起定义，而不是随意散落在代码段中，ES6中增加了 let 和 const 后更是如此，像这样：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">let</span> a = <span class="string">""</span>,</span><br><span class="line">   	   b = <span class="number">0</span>,</span><br><span class="line">       c = <span class="literal">true</span>;</span><br><span class="line">   <span class="comment">//其他代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>说完 let、const 和 var 的区别，说说 let 和 const 的区别。</p>
<p>const 可看做 constant 的缩写，constant 的意思是“固定的、常量”，即不可修改。</p>
<p>所以，<strong>const 在声明的同时必须赋值，且在使用范围内不可修改</strong></p>
<p>其实ES6之前，我们就需要在程序中定义常量，且约定常量使用大写字母和下划线结合的方式命名，比如：MAX_COUNT。</p>
<p>至于是否可变，就靠程序员来遵守规则，程序员往往是不可靠的…</p>
<p>const的出现从语言层面加了限制，使其不可更改。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">7</span>;</span><br><span class="line">      a = <span class="number">8</span>;</span><br><span class="line"><span class="comment">//Uncaught TypeError: Assignment to constant variable.</span></span><br></pre></td></tr></table></figure>
<p>可以看到，用 const 定义了一个变量并赋值之后，改变它的值时就报错了。</p>
<p>but，并不是用 const 声明的一切都不可更改，<strong>const声明的限制只应用到变量类型的最外层</strong>。换句话说，如果变量类型为基本类型，其本身不可更改，如果是引用类型，则引用类型本身受限制，键不受限制。</p>
<p>像下面这样就可以正常运行。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">    name:<span class="string">'张三'</span></span><br><span class="line">&#125; </span><br><span class="line">a.name = <span class="string">'李四'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a.name)  <span class="comment">//李四</span></span><br></pre></td></tr></table></figure>
<p>综上，现在定义变量依然可以使用 var，但多数项目中都已被 let 或 const 占据，所以，在确定值不变的情况下就用 const，否则可使用let。</p>
<h2 id="变量命名"><a href="#变量命名" class="headerlink" title="变量命名"></a>变量命名</h2><p>很多人在刚学编程时不会想到，<strong>命名</strong>会是个让人头疼的问题。</p>
<p>有几个方面原因：</p>
<p>一、本身词汇量匮乏</p>
<p>二、每个变量都会有关联变量，无形中增加了用词量</p>
<p>三、不仅意思要对，还不宜太生僻</p>
<p>四、要考虑适用范围，较通用还是更具体，某种程度上也会形成一个“命名空间”。</p>
<p>大致需要遵循如下几个原则：</p>
<ul>
<li>表意<br>较为明晰地表达意思，比如：</li>
</ul>
<p>是什么，isXX</p>
<p>有什么，hasXX</p>
<p>干什么，getXX</p>
<p>等等。</p>
<ul>
<li><p>统一/通用<br>业界通用结合团队通用，这样一来，不论是团队进新人，还是你突然要介入一个新项目，都不用花太多时间或沟通成本来搞懂程序的意图和逻辑。</p>
</li>
<li><p>少定义全局<br>一、全局变量是一直存在的，长期占用内存。</p>
</li>
</ul>
<p>二、全局变量全局可用，这就为其修改增加了不确定性，增加了意外出现的风险。</p>
<p>所以多数情况下，我们只需定义必要的全局变量，其他变量定义在局部就好。</p>
<ul>
<li>少定义变量</li>
</ul>
<p>语言本身对变量的定义是不限制的，所以容易变得随意，减少不必要的变量定义，可以适量减少存储空间、传递次数和处理环节。</p>
<p>但也不必矫枉过正，还是要兼顾“简洁、高效、易读”，仅仅简洁了，却很难读，就得不偿失了。</p>
<h2 id="附赠"><a href="#附赠" class="headerlink" title="附赠"></a>附赠</h2><ul>
<li>常见面试题之 变量如何存储？</li>
</ul>
<p>基本类型存储在<strong>栈</strong>中，引用类型存储在<strong>堆</strong>中。</p>
<p>栈：只能在某一端进行添加或者删除的数据结构，比较形象的比喻是“叠盘子”，后进先出。存取速度较快，但数据大小和生命周期确定。</p>
<p>堆：生活中有“书堆”、“垃圾堆”等，指可动态分配的空间，用于动态分配和释放程序所使用的对象。因为对象可以扩展，放在堆中可以不断扩展。</p>
<ul>
<li>常见面试题之 for循环——输出几？</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( var i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123; </span><br><span class="line">    setTimeout( <span class="function">function <span class="title">timer</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        console.<span class="built_in">log</span>( i ); </span><br><span class="line">        &#125;, i*<span class="number">1000</span> ); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>setTimeout是定时器函数，由“时间间隔”和“回调函数”组成，可以在某间隔时间后执行特定动作，如上是打印一个值。</p>
<p>按道理，这段代码应该是隔一秒输出一个数字，从1到6。</p>
<p>实际情况是，连续输出5个6，为什么？</p>
<p>一、for中用var定义的变量会泄露到全局</p>
<p>二、setTimeout是异步函数，javascript代码在浏览器中执行的任务是有优先顺序的，当异步函数执行的时候，外层循环已经进行完毕，即i的值已经被加到6。</p>
<p>ES6之前，解决这个问题的常见方法是“闭包”，这个后面会聊，但ES6之后，有了更方便的处理方案，就是使用let来声明变量i。修改如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( let i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123; </span><br><span class="line">    setTimeout( <span class="function">function <span class="title">timer</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        console.<span class="built_in">log</span>( i ); </span><br><span class="line">        &#125;, i*<span class="number">1000</span> ); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个时候，当循环每进行一次，变量i都进入了一个独立的作用域当中，然后被单独输出，就会得到预期的结果。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>到此，关于“变量”的讨论告一段落。</p>
<p>标题叫“小角色，大用途”，因为变量就像是程序大楼的一砖一瓦，很不起眼，却无处不在。</p>
<p>常用的数字、字符、对象、函数、数组等等，不论简单或是复杂，都是数据，都存储在变量中。</p>
<p>不仅如此，变量还能起到“缓存”的作用，比如，经常会获取页面DOM元素的时候将其保存在一个变量内，然后拿这个变量去做其他的事，或者把从数据库当中请求回来的值存到一个变量中，后续再用直接拿变量的值，毕竟DOM查询和发请求拉数据都需要时间，这无疑节省了时间。</p>
<p>编程正是由于变量的存在而被赋予无限可能，如果没有变量，都是固定的值，就没有变化和个性可言，有了变量，就能在需要的时候产生不同的数据，构成各种丰富的、个性化的网页内容。</p>
<p>聊的够多了，我们下篇见。</p>

        
            <div class="donate-container">
    <div>
        <img src="/img/pencil.jpg" alt="" class="i-pencil">
    </div>
    <div class="site-slogan">
        <i> 学习让人快乐，而分享加倍 </i>
    </div>
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/wechat-pay.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js" type="text/javascript"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
