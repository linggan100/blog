<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="生活随笔、前端乱炖、情感沟通、职业交流、旅行笔记">
    <meta name="keyword"  content="undefined">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        浅析line-height和vertical - 灵感之见
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css" type="text/css">
    <link rel="stylesheet" href="/css/gitment.css" type="text/css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 学习让人快乐，而分享加倍 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/idea.png" />
        </div>
        <div class="name">
            <i>灵感_idea</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> 学习让人快乐，而分享加倍 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        浅析line-height和vertical
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2015-06-19 00:00:00</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#CSS" title="CSS">CSS</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <p>line-height</p>
<p>通常被我们用来干嘛呢？</p>
<p>比如：height：<em>px;line-height:</em>px;是这样的么？我们常常用它来对文字进行居中。为什么这样就能居中呢？因为行高是元素基线之间的距离，行高会减去字体的高度然后上下平分去建立一个行内框（inline box），如果这个时候高度和行高一致，自然就体现为居中。那么它有什么可研究之处呢？</p>
<p>比如：有时候设置了line-height却仍然不能将内容居中怎么办？设置了vertical-align：middle;没用是为什么？</p>
<p>先来概览一下：line-height</p>
<p>在块级元素，将line-height属性指定的线框元素中的最小高度。</p>
<p>在非替换行内元素，行高指定用于计算行框的高度值的高度。</p>
<p>在替换的行内元素，如按钮或其他输入元件，行高没有任何效果。</p>
<p>这里出现了应该注意的第一点，行高作用的是高度。</p>
<p>意思是可以不设置height？Yes。我们通常会认为当我们给一个空的容器填充了文字，即使我们没有给容器设置高度，文字也会把容器撑起来，其实不是，它是由和文字相关的一些属性的设置以及line-height：normal来决定的，而且这对块级元素和行内元素的影响不同。</p>
<p>先给出试验的原始图作为参考</p>
<p>Code </p>
<p><img src="front-home-lineheight-and-vertical/1.jpg" alt=""></p>
<p>每个div设置了20px内边距，为下图的绿色部分，font-size：16px;</p>
<p>效果 </p>
<p><img src="front-home-lineheight-and-vertical/2.jpg" alt=""></p>
<p>我们给p设置line-height：0；overflow：hidden；</p>
<p><img src="front-home-lineheight-and-vertical/3.jpg" alt=""></p>
<p>可以看到，此时p“消失”了。但也会惊讶的发现span这里完好无损，来看浏览器告诉我们的</p>
<p><img src="front-home-lineheight-and-vertical/4.jpg" alt=""></p>
<p>是的，它的line-height同样被改变了，但是高度却不为0.这就是对行内元素的影响。行内元素的行高会跟着改变，但是它的高度不会变。</p>
<p>line-height取值</p>
<p>值：</p>
<p>normal</p>
<p>inherit</p>
<p>带单位的数值，如:20px(同样可以使用存在且合理的em、rem等);</p>
<p>无单位值，如:2;</p>
<p>百分比值：如:150%;</p>
<p>和什么是相关的？</p>
<p>font-stretch、font-variant、font-style、font-weight font-size、font-family</p>
<p>一个个的来看 Normal=？ 在什么都不设置的情况下，normal是多少？应该是1吧？就像我们猜测z-index在不设置的时候默认值是0一样。看看便知</p>
<p>Normal</p>
<p><img src="front-home-lineheight-and-vertical/5.jpg" alt=""></p>
<p>1</p>
<p><img src="front-home-lineheight-and-vertical/6.jpg" alt=""></p>
<p>不一样啊，那100%呢？</p>
<p><img src="front-home-lineheight-and-vertical/7.jpg" alt=""></p>
<p>看起来纹丝未动哈。可能有人会问，1和100%不是一样的么？！可真不一样，后面讲。</p>
<p>那normal是多少？</p>
<p>不能靠猜哈！它在不同浏览器中的计算值也是不同的，有资料说它取值是在1.1-1.2之间，css权威指南上也说是1.2倍，据我测试，在chrome下，等于line-height：1.32;</p>
<p>Inherit</p>
<p>继承，跟上例相关，line-height会怎样继承？先看数值</p>
<p>数值分为带单位和不带单位的</p>
<p>带单位，其实这个就很直观了，你定多少它就是多少，就跟我们js当中所说的字面量一样。But，只是对于px、pt等具有物理标准的单位，其他的后面讲。</p>
<p>不带单位</p>
<p>这里面就牵扯到一个继承的问题，上面有提到1和100%是不同的，原因就在于此。不带单位的数值，它是将这个数值作为比例传递了下去，至于后代的行高是多少，则是由后代的font相关属性决定。咱看图举栗子~</p>
<p>其实上面已经贴了一张图。那里的1和100%一样的，为什么呢？因为font-size被继承了下来，这个时候继承的是数值还是比例就没有区别了。 如果是不同的呢。</p>
<p>比如我mod行高设置为1.5;p的font-size：18px;再来看</p>
<p>当我们只改变了数值</p>
<p><img src="front-home-lineheight-and-vertical/8.jpg" alt=""></p>
<p>这看起来好像没有太大变化，但我们来看二者的区别</p>
<p><img src="front-home-lineheight-and-vertical/9.jpg" alt=""></p>
<p><img src="front-home-lineheight-and-vertical/10.jpg" alt=""></p>
<p>这时p的行高line-height=18<em>1.5=27px，span部分的行高 line-height=16</em>1.5=24px;</p>
<p>是的，当line-height为不带单位的数值时就是这样。</p>
<p>那么。。。当它是1.5em的时候会是怎样的？会是一样的么，我们给它们的父级元素设置1.5em； 如下：</p>
<p><img src="front-home-lineheight-and-vertical/11.jpg" alt=""></p>
<p>呕吼！看来浏览器这时候没有理会p的18px，而是用了父级的16px。</p>
<p>下面看百分比</p>
<p>百分比和无单位数值从数学的角度来看没什么区别，这可能也是多数人看到这两个最困惑的一点，人总会根据自己的经验来判断一些东西。往往具体的事物有着具体的规则，会有差别。对于line-height来说，前面说了无单位值是继承了比例，百分比则是继承了行高的值，也就是说，这个时候父元素的行高决定了下面所有，当然，前提是子元素没有定义行高。</p>
<p>为了验证我们的想法，给父元素设置line-height：150%;/子元素不设置，如果如我们所料，行高应该都是24px，来看结果，</p>
<p><img src="front-home-lineheight-and-vertical/12.jpg" alt=""></p>
<p><img src="front-home-lineheight-and-vertical/13.jpg" alt=""></p>
<p>看来是这样的，当是百分比的时候，它们继承了父级的line-height值。</p>
<p>好了，至此，我们看到的都还是正常情况，那不正常情况呢？比如</p>
<p>行高小于字号</p>
<p>我们给line-height:0.5; 这个时候会出现什么情况呢？</p>
<p><img src="front-home-lineheight-and-vertical/14.jpg" alt=""></p>
<p>p的行高会缩很多，同时高度也跟着行高变化，但span的高度未发生变化。正如上文所说，它的高度不会被line-height改变。</p>
<p>但行高确实变了</p>
<p><img src="front-home-lineheight-and-vertical/15.jpg" alt=""></p>
<p>做一个小结：</p>
<p>1、行高会影响块级元素的高度，而不会影响行内元素的高度。</p>
<p>2、1和100%和1em不同，虽然它们看起来都是比例，但对象不同，所传递的东西不同。1是把比例传递给后代，100%是将计算后的值传递给后代，1em则会使元素以其父元素font-size值为参考来计算自己的行高。</p>
<p>vertical-align</p>
<p>好的，下面看看vertical-align吧，也该它登场了。</p>
<p>通常我们用它是干嘛？是的，有时候我们想很爽的像text-align那样用它来进行垂直居中，因为居中的用处实在太广了，它代表着一种对称美。</p>
<p>Value</p>
<p>长度 通过距离升高（正值）或降低（负值）元素。’0cm’等同于’baseline’</p>
<p>百分值 – % 通过距离（相对于1line-height1值的百分大小）升高（正值）或降低（负值）元素。’0%’等同于’baseline’</p>
<p>baseline 默认。元素的基线与父元素的基线对齐。</p>
<p>sub 降低元素的基线到父元素合适的下标位置。</p>
<p>super 升高元素的基线到父元素合适的上标位置。</p>
<p>top 把对齐的子元素的顶端与line box顶端对齐。</p>
<p>text-top 把元素的顶端与父元素内容区域的顶端对齐。</p>
<p>middle 元素的中垂点与 父元素的基线加1/2父元素中字母x的高度 对齐。</p>
<p>bottom 把对齐的子元素的底端与line box底端对齐。</p>
<p>text-bottom 把元素的底端与父元素内容区域的底端对齐。</p>
<p>inherit 采用父元素相关属性的相同的指定值。</p>
<p>它对哪些元素起作用呢？</p>
<p>只有一个元素属于inline或是inline-block（table-cell也可以理解为inline-block水平），vertical-align才会起作用。</p>
<p>那么它是什么，怎么起作用的？</p>
<p>从各种取值的描述来看，它对于元素本身的表现并无影响，而是影响的在垂直方向的位置，而这个位置是其自身相对于上下文的元素的位置。</p>
<p>那么就好理解一些了，找找位置即可。</p>
<p>默认值为baseline，即子元素的基线和父元素基线对齐。因为让所有文本元素的底端对齐是再正常不过的需求。其他的呢？</p>
<p>我们拿label来看，为了能看得更清晰，我们用一个input来对比，这恰巧也是我们的常用组合。</p>
<p>把label的font-size设置为30px。</p>
<p>值当中有几个是比较好理解的，比如</p>
<p>top </p>
<p><img src="front-home-lineheight-and-vertical/16.jpg" alt=""></p>
<p>bottom </p>
<p><img src="front-home-lineheight-and-vertical/17.jpg" alt=""></p>
<p>text-top </p>
<p><img src="front-home-lineheight-and-vertical/18.jpg" alt=""></p>
<p>text-bottom</p>
<p><img src="front-home-lineheight-and-vertical/19.jpg" alt=""></p>
<p>middle </p>
<p><img src="front-home-lineheight-and-vertical/20.jpg" alt=""></p>
<p>那么sub和super该怎么理解呢？</p>
<p>这个在某些时候会引起误解，因为你可能设置的super的时候，文字看起来比sub的位置还低，这是因为字体和行高的影响。其实大家是不是会对它们有些眼熟呢？对，html有两个标签是用来负责设定上、下标的，那么这两个是不是同理？ 来看看便知，因为我们给父元素定了无单位数值的line-height，所以字体大小会影响行高，进而影响到基线和对齐的效果，所以我们将font-size:16px;来看效果。</p>
<p>super</p>
<p><img src="front-home-lineheight-and-vertical/21.jpg" alt=""><br>sub </p>
<p><img src="front-home-lineheight-and-vertical/22.jpg" alt=""></p>
<p>It’s true!~</p>
<p>对了，还有百分比和长度</p>
<p>百分比的位置依然是从基线算起，而不是我们已经习惯了的顶部。正值会使元素向上移动，负值会使其向下移动，这跟其他值比如margin和定位又不同。当其顶部或者底部超过了同级元素的最大行高，则会影响到整体的高度。</p>
<p>长度和百分比类似，以基线为标准，正值上移，负值下移，超出最大行内框的高度则撑起外围容器的高度。</p>
<p>想玩儿的话，张老师有个页面可以玩玩儿<a href="http://www.zhangxinxu.com/study/201005/verticle-align-test-demo.html" target="_blank" rel="external">vertical-align</a></p>
<p>另外大家可以到MDN和strick上面看看相关的内容</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/line-height" target="_blank" rel="external">mdn-line-height</a><br><a href="https://css-tricks.com/almanac/properties/l/line-height/" target="_blank" rel="external">css-tricks-line-height</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/vertical-align" target="_blank" rel="external">mdn-vertical-align</a><br><a href="https://css-tricks.com/almanac/properties/v/vertical-align/" target="_blank" rel="external">css-tricks-vertical-align</a></p>
<p>一篇baseline的文章参考<a href="https://www.qianduan.net/css-baseline-road/" target="_blank" rel="external">baseline</a></p>
<p>好了，就先聊到这儿吧，可能会有疏漏，欢迎拍砖！</p>
<p>可关注公众号：前端周末 css3china，会有更多好东西推送。</p>
<p>也可以加入：152128548和我们交流，这里有很多高手哦！~</p>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/wechat-pay.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js" type="text/javascript"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
